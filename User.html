<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest' };</script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
        <style>
            body {
                font-family: 'Inter', sans-serif;
                transition: background 0.3s, color 0.3s;
            }

            .desktop-bg-light {
                background: linear-gradient(135deg, #e3ebf7 0%, #f5f7fa 100%);
            }

            .desktop-bg-dark {
                background: linear-gradient(135deg, #23283e 0%, #181d29 100%);
            }

            .window-shadow {
                box-shadow: 0 8px 30px rgba(0, 0, 0, 0.18), 0 1.5px 4px rgba(0, 0, 0, 0.09);
            }

            .icon-shadow {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);
            }

            .taskbar-shadow {
                box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.12);
            }

            .transition-all {
                transition: all .25s cubic-bezier(.4, 0, .2, 1);
            }

            .window-animate-open {
                animation: windowOpenAnim .4s;
            }

            @keyframes windowOpenAnim {
                0% {
                    opacity: 0;
                    transform: scale(0.9);
                }

                100% {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            .scrollbar-thin::-webkit-scrollbar {
                width: 8px;
            }

            .scrollbar-thin::-webkit-scrollbar-thumb {
                background: #b3b3b3;
                border-radius: 6px;
            }

            @media (max-width: 768px) {

                .desktop-bg-light,
                .desktop-bg-dark {
                    min-height: 100vh;
                }
            }

            #desktop-icons {
                align-content: flex-start; /* Align items to the top */
                align-items: flex-start;   /* Align items to the left */
                flex-direction: row;       /* Ensure horizontal layout */
                flex-wrap: wrap;           /* Allow wrapping if needed */
            }

            /* For mobile responsiveness */
            @media (max-width: 768px) {
                #desktop-icons {
                    gap: 1rem;            /* Reduce gap on mobile */
                    padding: 1rem;         /* Reduce padding on mobile */
                }
            }
        </style>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;600;700;800;900"; display="swap" />
            <script src="script.js"></script>
        <style>
            .highlighted-section {
                outline: 2px solid #3F20FB;
                background-color: rgba(63, 32, 251, 0.1);
            }

            .edit-button {
                position: absolute;
                z-index: 1000;
            }

            ::-webkit-scrollbar {
                display: none;
            }

            html,
            body {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        </style>
    </head>

    <body id="body" class=" min-h-[56rem] relative transition-all font-sans bg-win-bg-light dark:bg-win-bg-dark transition-colors duration-300">

        <!-- Wallpaper and Desktop Background -->
        <div id="desktop-bg" class="absolute inset-0 w-full h-full z-0 desktop-bg-light transition-all">
            <img class="absolute inset-0 w-full h-full object-cover opacity-50"
                src="https://storage.googleapis.com/uxpilot-auth.appspot.com/112645ff97-28514d01501148c0c1aa.png"
                alt="modern abstract desktop wallpaper with soft gradient colors, clean minimalist design" />
        </div>

        <!-- Main Desktop Content -->
        <main id="main-desktop" class="relative z-10 flex flex-col min-h-[56rem] min-h-screen">

            <!-- Desktop Icons Section -->
            <section id="desktop-icons" class="flex-1 flex flex-row flex-wrap items-start p-8 gap-8 md:gap-10 lg:gap-14 select-none">
                <!-- My Documents -->
                <div id="icon-documents" tabindex="0" onclick="openApp('documents')"
                    class="flex flex-col items-center cursor-pointer group transition-all rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-950 icon-shadow"
                    style="width: 90px">
                    <div class="bg-blue-600/20 rounded-2xl p-3 mb-2 transition-all group-hover:bg-blue-600/30">
                        <i class="fa-regular fa-folder-open text-blue-500 text-3xl"></i>
                    </div>
                    <span class="text-xs font-medium text-gray-800 dark:text-gray-200 transition-all">My Documents</span>
                </div>

                <!-- Browser -->
                <div id="icon-browser" tabindex="0" onclick="openApp('browser')"
                    class="flex flex-col items-center cursor-pointer group transition-all rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-950 icon-shadow"
                    style="width: 90px">
                    <div class="bg-green-500/20 rounded-2xl p-3 mb-2 transition-all group-hover:bg-green-500/30">
                        <i class="fa-solid fa-globe text-green-500 text-3xl"></i>
                    </div>
                    <span class="text-xs font-medium text-gray-800 dark:text-gray-200 transition-all">Browser</span>
                </div>

                <!-- Email -->
                <div id="icon-email" tabindex="0" onclick="openApp('email')"
                    class="flex flex-col items-center cursor-pointer group transition-all rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-950 icon-shadow"
                    style="width: 90px">
                    <div class="bg-blue-400/20 rounded-2xl p-3 mb-2 transition-all group-hover:bg-blue-400/30">
                        <i class="fa-regular fa-envelope text-blue-400 text-3xl"></i>
                    </div>
                    <span class="text-xs font-medium text-gray-800 dark:text-gray-200 transition-all">Email</span>
                </div>

                <!-- File Explorer -->
                <div id="icon-file-explorer" tabindex="0" onclick="openApp('file-explorer')"
                    class="flex flex-col items-center cursor-pointer group transition-all rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-950 icon-shadow"
                    style="width: 90px">
                    <div class="bg-yellow-400/20 rounded-2xl p-3 mb-2 transition-all group-hover:bg-yellow-400/30">
                        <i class="fa-solid fa-file-lines text-yellow-400 text-3xl"></i>
                    </div>
                    <span class="text-xs font-medium text-gray-800 dark:text-gray-200 transition-all">File Explorer</span>
                </div>

                <!-- Settings -->
                <div id="icon-settings" tabindex="0" onclick="openApp('settings')"
                    class="flex flex-col items-center cursor-pointer group transition-all rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-950 icon-shadow"
                    style="width: 90px">
                    <div class="bg-gray-400/20 rounded-2xl p-3 mb-2 transition-all group-hover:bg-gray-400/30">
                        <i class="fa-solid fa-gear text-gray-400 text-3xl"></i>
                    </div>
                    <span class="text-xs font-medium text-gray-800 dark:text-gray-200 transition-all">Settings</span>
                </div>
            </section>

            <!-- Windowed Applications Section -->
            <section id="windows-area" class="absolute inset-0 pointer-events-none z-40 flex flex-col "></section>

            <!-- Taskbar -->
            <nav id="taskbar"
                class="fixed bottom-0 left-0 w-full h-16 md:h-16 px-2 md:px-10 flex items-center justify-between bg-white/80 dark:bg-[#1c212e]/90 backdrop-blur-xl taskbar-shadow z-50 transition-all">

                <!-- Start Button &amp; Start Menu -->
                <div class="flex items-center gap-1 h-full">
                    <button id="start-btn" onclick="toggleStartMenu()"
                        class="w-11 h-11 rounded-xl flex items-center justify-center bg-blue-600 hover:bg-blue-700 transition-all shadow-md mr-3"
                        aria-label="Open Start Menu">
                        <i class="fa-brands fa-windows text-white text-2xl"></i>
                    </button>
                    <!-- Start Menu -->
                    <div id="start-menu"
                        class="absolute bottom-20 left-4 w-[260px] rounded-2xl bg-white dark:bg-[#23283e] shadow-2xl transition-all window-animate-open p-4 hidden z-50">
                        <div class="mb-4">
                            <span class="text-xs text-gray-400 uppercase tracking-wider">Apps</span>
                        </div>
                        <div class="flex flex-col gap-2">
                            <button onclick="openApp('documents');toggleStartMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                                <i class="fa-regular fa-folder-open text-blue-500"></i>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-100">My Documents</span>
                            </button>
                            <button onclick="openApp('browser');toggleStartMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                                <i class="fa-solid fa-globe text-green-600"></i>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-100">Browser</span>
                            </button>
                            <button onclick="openApp('email');toggleStartMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                                <i class="fa-regular fa-envelope text-blue-400"></i>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-100">Email</span>
                            </button>
                            <button onclick="openApp('file-explorer');toggleStartMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                                <i class="fa-solid fa-file-lines text-yellow-400"></i>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-100">File Explorer</span>
                            </button>
                            <button onclick="openApp('settings');toggleStartMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                                <i class="fa-solid fa-gear text-gray-400"></i>
                                <span class="text-sm font-medium text-gray-800 dark:text-gray-100">Settings</span>
                            </button>
                        </div>
                    </div>
                    <!-- End Start Menu -->
                </div>

                <!-- Search Bar (Desktop Only) -->
                <div class="hidden md:flex flex-1 h-full items-center px-6">
                    <div class="relative w-full max-w-md">
                        <input id="search-bar" type="text"
                            class="w-full h-10 px-4 pl-10 rounded-xl bg-gray-100 dark:bg-[#23283e] text-gray-800 dark:text-gray-200 shadow-inner focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all placeholder:text-gray-400"
                            placeholder="Search files, apps, or settings..." />
                        <i class="fa-solid fa-magnifying-glass absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <!-- Quick Access Icons -->
                <div class="flex gap-3 md:gap-5 items-center">
                    <button onclick="openApp('browser')"
                        class="relative group w-10 h-10 rounded-xl flex items-center justify-center bg-transparent hover:bg-blue-100 dark:hover:bg-blue-950 transition-all icon-shadow"
                        aria-label="Browser">
                        <i class="fa-solid fa-globe text-green-600 text-lg"></i>
                        <span
                            class="absolute bottom-11 left-1/2 -translate-x-1/2 px-2 py-1 text-xs bg-gray-800 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all pointer-events-none">Browser</span>
                    </button>
                    <button onclick="openApp('email')"
                        class="relative group w-10 h-10 rounded-xl flex items-center justify-center bg-transparent hover:bg-blue-100 dark:hover:bg-blue-950 transition-all icon-shadow"
                        aria-label="Email">
                        <i class="fa-regular fa-envelope text-blue-500 text-lg"></i>
                        <span
                            class="absolute bottom-11 left-1/2 -translate-x-1/2 px-2 py-1 text-xs bg-gray-800 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all pointer-events-none">Email</span>
                    </button>
                    <button onclick="openApp('file-explorer')"
                        class="relative group w-10 h-10 rounded-xl flex items-center justify-center bg-transparent hover:bg-blue-100 dark:hover:bg-blue-950 transition-all icon-shadow"
                        aria-label="File Explorer">
                        <i class="fa-solid fa-file-lines text-yellow-400 text-lg"></i>
                        <span
                            class="absolute bottom-11 left-1/2 -translate-x-1/2 px-2 py-1 text-xs bg-gray-800 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all pointer-events-none">File
                            Explorer</span>
                    </button>
                    <button onclick="openApp('settings')"
                        class="relative group w-10 h-10 rounded-xl flex items-center justify-center bg-transparent hover:bg-blue-100 dark:hover:bg-blue-950 transition-all icon-shadow"
                        aria-label="Settings">
                        <i class="fa-solid fa-gear text-gray-400 text-lg"></i>
                        <span
                            class="absolute bottom-11 left-1/2 -translate-x-1/2 px-2 py-1 text-xs bg-gray-800 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all pointer-events-none">Settings</span>
                    </button>
                </div>

                <!-- System Tray -->
                <div class="flex items-center gap-3 ml-2">
                    <!-- Network Status -->
                    <div class="flex items-center gap-1">
                        <i class="fa-solid fa-wifi text-blue-400 text-lg"></i>
                    </div>
                    <!-- Time &amp; Date -->
                    <div id="system-time" class="text-xs font-semibold text-gray-900 dark:text-gray-200 px-2"></div>
                    <!-- Theme Toggle -->
                    <button id="theme-toggle" onclick="toggleTheme()"
                        class="w-10 h-10 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-blue-900 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all icon-shadow"
                        aria-label="Toggle Theme">
                        <i id="theme-icon" class="fa-regular fa-moon text-blue-600 text-lg"></i>
                    </button>
                    <!-- User Profile Dropdown -->
                    <div class="relative">
                        <button onclick="toggleProfileMenu()"
                            class="flex items-center gap-2 p-1 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-950 transition-all group">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg"
                                alt="Avatar" class="w-8 h-8 rounded-full border-2 border-blue-400 shadow-sm" />
                            <i class="fa-solid fa-chevron-down text-gray-400 text-xs"></i>
                        </button>
                        <div id="profile-menu"
                            class="absolute bottom-12 right-0 w-[180px] bg-white dark:bg-[#23283e] rounded-xl shadow-2xl p-3 hidden z-50">
                            <div class="flex items-center gap-3 mb-3">
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg"
                                    alt="Avatar" class="w-8 h-8 rounded-full border-2 border-blue-400" />
                                <div>
                                    <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">Alex Carter</div>
                                    <div class="text-xs text-gray-400 dark:text-gray-300">Employee</div>
                                </div>
                            </div>
                            <button onclick="openApp('settings');toggleProfileMenu()"
                                class="w-full flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-blue-100 dark:hover:bg-blue-950 transition-all text-sm text-gray-800 dark:text-gray-100">
                                <i class="fa-solid fa-gear text-gray-400"></i> Settings
                            </button>
                            <button onclick="logout()"
                                class="w-full flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-red-100 dark:hover:bg-red-950 transition-all text-sm text-red-500 mt-1">
                                <i class="fa-solid fa-right-from-bracket"></i> Logout
                            </button>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Mobile Bottom Navigation (visible only on mobile) -->
            <nav id="mobile-nav"
                class="fixed bottom-0 left-0 w-full h-16 flex md:hidden items-center justify-between bg-white/90 dark:bg-[#1c212e]/95 backdrop-blur-xl z-50 px-2 transition-all taskbar-shadow">
                <button onclick="toggleStartMenu()"
                    class="flex flex-col items-center w-12 h-12 rounded-lg justify-center hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                    <i class="fa-brands fa-windows text-blue-600 text-2xl"></i>
                    <span class="text-[10px] text-gray-600 dark:text-gray-300">Menu</span>
                </button>
                <button onclick="openApp('browser')"
                    class="flex flex-col items-center w-12 h-12 rounded-lg justify-center hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                    <i class="fa-solid fa-globe text-green-600 text-lg"></i>
                    <span class="text-[10px] text-gray-600 dark:text-gray-300">Browser</span>
                </button>
                <button onclick="openApp('email')"
                    class="flex flex-col items-center w-12 h-12 rounded-lg justify-center hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                    <i class="fa-regular fa-envelope text-blue-500 text-lg"></i>
                    <span class="text-[10px] text-gray-600 dark:text-gray-300">Email</span>
                </button>
                <button onclick="openApp('documents')"
                    class="flex flex-col items-center w-12 h-12 rounded-lg justify-center hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                    <i class="fa-regular fa-folder-open text-blue-500 text-lg"></i>
                    <span class="text-[10px] text-gray-600 dark:text-gray-300">Docs</span>
                </button>
                <button onclick="openApp('settings')"
                    class="flex flex-col items-center w-12 h-12 rounded-lg justify-center hover:bg-blue-100 dark:hover:bg-blue-950 transition-all">
                    <i class="fa-solid fa-gear text-gray-400 text-lg"></i>
                    <span class="text-[10px] text-gray-600 dark:text-gray-300">Settings</span>
                </button>
            </nav>

        </main>

        <!-- Templates for Windows -->
        <template id="window-browser">
            <div id="window-browser-card"
                class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-2/3 md:translate-y-0 w-[95vw] max-w-[620px] md:w-[620px] h-[480px] md:h-[480px] rounded-2xl bg-white dark:bg-[#23283e] window-shadow transition-all window-animate-open flex flex-col pointer-events-auto">
                <div
                    class="flex justify-between items-center px-4 py-2 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gray-50 dark:bg-[#23283e]">
                    <div class="flex items-center gap-2">
                        <i class="fa-solid fa-globe text-green-600"></i>
                        <span class="font-semibold text-gray-800 dark:text-gray-200">Secure Browser</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="closeWindow('window-browser-card')"
                            class="w-8 h-8 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900 transition-all">
                            <i class="fa-solid fa-xmark text-gray-500"></i>
                        </button>
                    </div>
                </div>
                <!-- Browser Tabs -->
                <div
                    class="flex items-center gap-2 px-4 bg-gray-100 dark:bg-[#1c212e] py-2 border-b border-gray-200 dark:border-gray-800">
                    <button
                        class="flex items-center gap-1 px-3 py-1 rounded-lg bg-blue-100 dark:bg-blue-900/40 text-blue-600 text-sm font-medium shadow-sm">
                        <i class="fa-solid fa-globe"></i> Site 1
                    </button>
                    <button
                        class="flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 text-gray-600 dark:text-gray-300 text-sm font-medium">
                        <i class="fa-solid fa-globe"></i> Site 2
                    </button>
                    <button
                        class="flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 text-gray-600 dark:text-gray-300 text-sm font-medium">
                        <i class="fa-solid fa-globe"></i> Site 3
                    </button>
                </div>
                <div class="flex items-center px-4 pt-3 pb-2">
                    <div class="flex-grow">
                        <input type="text" value="https://trusted.worksite.com" readonly=""
                            class="w-full px-3 py-2 rounded-lg bg-gray-100 dark:bg-[#23283e] text-xs font-mono text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 focus:outline-none" />
                    </div>
                    <button
                        class="ml-2 px-3 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-all text-xs">Go</button>
                </div>
                <div class="flex-1 overflow-auto px-2 py-3">
                    <div class="w-full h-full flex items-center justify-center text-gray-400 text-lg dark:text-gray-500">
                        <i class="fa-solid fa-lock text-blue-500 mr-2"></i> Secure browsing limited to trusted work sites.
                    </div>
                </div>
            </div>
        </template>

        <template id="window-file-explorer">
            <div id="window-file-explorer-card"
                class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-2/3 md:translate-y-0 w-[95vw] max-w-[680px] md:w-[680px] h-[440px] md:h-[440px] rounded-2xl bg-white dark:bg-[#23283e] window-shadow transition-all window-animate-open flex flex-col pointer-events-auto">
                <div
                    class="flex justify-between items-center px-4 py-2 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gray-50 dark:bg-[#23283e]">
                    <div class="flex items-center gap-2">
                        <i class="fa-solid fa-file-lines text-yellow-400"></i>
                        <span class="font-semibold text-gray-800 dark:text-gray-200">File Explorer</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="closeWindow('window-file-explorer-card')"
                            class="w-8 h-8 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900 transition-all">
                            <i class="fa-solid fa-xmark text-gray-500"></i>
                        </button>
                    </div>
                </div>
                <div class="flex-1 flex flex-col md:flex-row">
                    <!-- Left Pane -->
                    <div
                        class="bg-gray-50 dark:bg-[#23283e] border-r border-gray-100 dark:border-gray-800 flex flex-col w-full md:w-40 p-3 gap-2">
                        <button onclick="switchExplorerTab('work-server')" id="fe-tab-work-server"
                            class="w-full flex items-center gap-2 p-2 rounded-lg text-blue-600 bg-blue-100 dark:bg-blue-900/40 font-semibold">
                            <i class="fa-solid fa-network-wired"></i> Work Server
                        </button>
                        <button onclick="switchExplorerTab('personal-space')" id="fe-tab-personal-space"
                            class="w-full flex items-center gap-2 p-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                            <i class="fa-regular fa-user"></i> Personal Space
                        </button>
                    </div>
                    <!-- File List (Right Pane) -->
                    <div class="flex-1 overflow-y-auto p-4 scrollbar-thin" id="file-explorer-pane">
                        <div class="text-sm font-semibold text-gray-500 dark:text-gray-300 mb-2">Work Server Files</div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <div class="flex items-center gap-3 bg-gray-100 dark:bg-[#23283e] rounded-lg p-3">
                                <i class="fa-solid fa-file-word text-blue-500 text-2xl"></i>
                                <span class="flex-1 text-gray-800 dark:text-gray-100">Project_Plan.docx</span>
                                <button
                                    class="px-2 py-1 text-xs rounded bg-blue-100 dark:bg-blue-900/30 text-blue-600 hover:bg-blue-200 dark:hover:bg-blue-950 transition-all">Download</button>
                                <button
                                    class="px-2 py-1 ml-1 text-xs rounded bg-red-100 dark:bg-red-900/25 text-red-500 hover:bg-red-200 dark:hover:bg-red-950 transition-all">Delete</button>
                            </div>
                            <div class="flex items-center gap-3 bg-gray-100 dark:bg-[#23283e] rounded-lg p-3">
                                <i class="fa-solid fa-file-excel text-green-500 text-2xl"></i>
                                <span class="flex-1 text-gray-800 dark:text-gray-100">Budget_2024.xlsx</span>
                                <button
                                    class="px-2 py-1 text-xs rounded bg-blue-100 dark:bg-blue-900/30 text-blue-600 hover:bg-blue-200 dark:hover:bg-blue-950 transition-all">Download</button>
                                <button
                                    class="px-2 py-1 ml-1 text-xs rounded bg-red-100 dark:bg-red-900/25 text-red-500 hover:bg-red-200 dark:hover:bg-red-950 transition-all">Delete</button>
                            </div>
                        </div>
                        <div class="mt-5">
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-300 mb-2">Upload a
                                file</label>
                            <input type="file"
                                class="block w-full text-sm text-gray-500 dark:text-gray-300 file:mr-3 file:py-2 file:px-4 file:rounded-full&amp;#10;                        file:border-0 file:text-sm file:font-semibold&amp;#10;                        file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100&amp;#10;                        dark:file:bg-blue-900/40 dark:file:text-blue-200 dark:hover:file:bg-blue-900/60" />
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <!-- Settings Window Template -->
        <template id="window-settings">
        <div id="window-settings-card" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-2/3 md:translate-y-0 w-[95vw] max-w-[620px] md:w-[620px] h-[480px] md:h-[480px] rounded-2xl bg-white dark:bg-[#23283e] window-shadow transition-all window-animate-open flex flex-col pointer-events-auto">
            <div class="flex justify-between items-center px-4 py-2 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gray-50 dark:bg-[#23283e]">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-gear text-gray-400"></i>
                <span class="font-semibold text-gray-800 dark:text-gray-200">System Settings</span>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="closeWindow('window-settings-card')" class="w-8 h-8 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900 transition-all">
                <i class="fa-solid fa-xmark text-gray-500"></i>
                </button>
            </div>
            </div>
            
            <div class="flex-1 flex overflow-hidden">
            <!-- Settings Sidebar -->
            <div class="w-48 bg-gray-50 dark:bg-[#1c212e] border-r border-gray-100 dark:border-gray-800 p-4">
                <div class="flex flex-col gap-1">
                <button onclick="switchSettingsTab('appearance')" id="settings-tab-appearance" class="w-full text-left px-3 py-2 rounded-lg text-blue-600 bg-blue-100 dark:bg-blue-900/40 font-medium">
                    <i class="fa-solid fa-palette mr-2"></i> Appearance
                </button>
                <button onclick="switchSettingsTab('account')" id="settings-tab-account" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-user mr-2"></i> Account
                </button>
                <button onclick="switchSettingsTab('privacy')" id="settings-tab-privacy" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-lock mr-2"></i> Privacy
                </button>
                </div>
            </div>
            
            <!-- Settings Content -->
            <div class="flex-1 overflow-auto p-6 scrollbar-thin" id="settings-content">
                <div id="appearance-settings">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Appearance Settings</h3>
                <div class="space-y-4">
                    <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Theme</label>
                    <div class="flex gap-4">
                        <button onclick="toggleTheme()" class="px-4 py-2 rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 flex items-center gap-2">
                        <i class="fa-solid fa-moon"></i> Toggle Theme
                        </button>
                    </div>
                    </div>
                    <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Wallpaper</label>
                    <div class="grid grid-cols-3 gap-3 mt-2">
                        <div class="h-20 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 cursor-pointer"></div>
                        <div class="h-20 rounded-lg bg-gradient-to-br from-purple-400 to-purple-600 cursor-pointer"></div>
                        <div class="h-20 rounded-lg bg-gradient-to-br from-gray-400 to-gray-600 cursor-pointer"></div>
                    </div>
                    </div>
                </div>
                </div>
                
                <div id="account-settings" class="hidden">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Account Settings</h3>
                <div class="space-y-4">
                    <div class="flex items-center gap-4">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="Profile" class="w-16 h-16 rounded-full border-2 border-blue-400">
                    <button class="px-3 py-1 text-sm rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200">Change Photo</button>
                    </div>
                    <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name</label>
                    <input type="text" value="Alex Carter" class="w-full px-3 py-2 rounded-lg bg-gray-100 dark:bg-[#23283e] border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                    <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
                    <input type="email" value="alex@example.com" class="w-full px-3 py-2 rounded-lg bg-gray-100 dark:bg-[#23283e] border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                </div>
                </div>
                
                <div id="privacy-settings" class="hidden">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Privacy Settings</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Activity Tracking</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Allow system to collect usage data</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" checked class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    </label>
                    </div>
                    <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-medium text-gray-800 dark:text-gray-200">Location Services</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Allow apps to access your location</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    </label>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>
        </template>

        <!-- Email Window Template -->
        <template id="window-email">
        <div id="window-email-card" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-2/3 md:translate-y-0 w-[95vw] max-w-[800px] md:w-[800px] h-[500px] md:h-[500px] rounded-2xl bg-white dark:bg-[#23283e] window-shadow transition-all window-animate-open flex flex-col pointer-events-auto">
            <div class="flex justify-between items-center px-4 py-2 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gray-50 dark:bg-[#23283e]">
            <div class="flex items-center gap-2">
                <i class="fa-regular fa-envelope text-blue-400"></i>
                <span class="font-semibold text-gray-800 dark:text-gray-200">Email Client</span>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="closeWindow('window-email-card')" class="w-8 h-8 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900 transition-all">
                <i class="fa-solid fa-xmark text-gray-500"></i>
                </button>
            </div>
            </div>
            
            <div class="flex-1 flex overflow-hidden">
            <!-- Email Sidebar -->
            <div class="w-48 bg-gray-50 dark:bg-[#1c212e] border-r border-gray-100 dark:border-gray-800 p-3">
                <button class="w-full mb-3 px-3 py-2 rounded-lg bg-blue-500 text-white flex items-center gap-2">
                <i class="fa-solid fa-pen"></i> Compose
                </button>
                <div class="flex flex-col gap-1">
                <button onclick="switchEmailFolder('inbox')" id="email-folder-inbox" class="w-full text-left px-3 py-2 rounded-lg text-blue-600 bg-blue-100 dark:bg-blue-900/40 font-medium">
                    <i class="fa-solid fa-inbox mr-2"></i> Inbox
                </button>
                <button onclick="switchEmailFolder('sent')" id="email-folder-sent" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-paper-plane mr-2"></i> Sent
                </button>
                <button onclick="switchEmailFolder('drafts')" id="email-folder-drafts" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-file mr-2"></i> Drafts
                </button>
                </div>
            </div>
            
            <!-- Email List -->
            <div class="w-72 border-r border-gray-100 dark:border-gray-800 overflow-y-auto scrollbar-thin">
                <div class="p-3 border-b border-gray-100 dark:border-gray-800 bg-blue-50 dark:bg-blue-900/20">
                <input type="text" placeholder="Search emails..." class="w-full px-3 py-1 rounded-lg bg-white dark:bg-[#23283e] border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm">
                </div>
                <div id="email-list">
                <!-- Email items will be added here by JavaScript -->
                <div onclick="openEmail('1')" class="p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="flex justify-between items-start">
                    <span class="font-medium text-gray-800 dark:text-gray-100">John Doe</span>
                    <span class="text-xs text-gray-500">10:30 AM</span>
                    </div>
                    <div class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate">Project Update: Q2 Results</div>
                    <div class="text-xs text-gray-500 dark:text-gray-400 truncate">Here are the latest results for our Q2 project...</div>
                </div>
                <div onclick="openEmail('2')" class="p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="flex justify-between items-start">
                    <span class="font-medium text-gray-800 dark:text-gray-100">Sarah Johnson</span>
                    <span class="text-xs text-gray-500">Yesterday</span>
                    </div>
                    <div class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate">Meeting Reminder</div>
                    <div class="text-xs text-gray-500 dark:text-gray-400 truncate">Don't forget about our meeting tomorrow at 2 PM...</div>
                </div>
                </div>
            </div>
            
            <!-- Email Content -->
            <div class="flex-1 overflow-auto p-4 scrollbar-thin" id="email-content">
                <div class="text-center text-gray-400 dark:text-gray-500 mt-20">
                <i class="fa-regular fa-envelope-open text-4xl mb-2"></i>
                <p>Select an email to read</p>
                </div>
            </div>
            </div>
        </div>
        </template>

        <!-- My Documents Window Template -->
        <template id="window-documents">
        <div id="window-documents-card" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-2/3 md:translate-y-0 w-[95vw] max-w-[700px] md:w-[700px] h-[500px] md:h-[500px] rounded-2xl bg-white dark:bg-[#23283e] window-shadow transition-all window-animate-open flex flex-col pointer-events-auto">
            <div class="flex justify-between items-center px-4 py-2 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gray-50 dark:bg-[#23283e]">
            <div class="flex items-center gap-2">
                <i class="fa-regular fa-folder-open text-blue-500"></i>
                <span class="font-semibold text-gray-800 dark:text-gray-200">My Documents</span>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="closeWindow('window-documents-card')" class="w-8 h-8 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900 transition-all">
                <i class="fa-solid fa-xmark text-gray-500"></i>
                </button>
            </div>
            </div>
            
            <div class="flex-1 flex overflow-hidden">
            <!-- Documents Sidebar -->
            <div class="w-48 bg-gray-50 dark:bg-[#1c212e] border-r border-gray-100 dark:border-gray-800 p-3">
                <div class="flex flex-col gap-1">
                <button onclick="switchDocumentsFolder('recent')" id="documents-folder-recent" class="w-full text-left px-3 py-2 rounded-lg text-blue-600 bg-blue-100 dark:bg-blue-900/40 font-medium">
                    <i class="fa-solid fa-clock-rotate-left mr-2"></i> Recent
                </button>
                <button onclick="switchDocumentsFolder('work')" id="documents-folder-work" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-briefcase mr-2"></i> Work
                </button>
                <button onclick="switchDocumentsFolder('personal')" id="documents-folder-personal" class="w-full text-left px-3 py-2 rounded-lg text-gray-600 dark:text-gray-200 hover:bg-blue-100 dark:hover:bg-blue-950">
                    <i class="fa-solid fa-user mr-2"></i> Personal
                </button>
                </div>
            </div>
            
            <!-- Documents Content -->
            <div class="flex-1 overflow-auto p-4 scrollbar-thin">
                <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Recent Documents</h3>
                <button class="px-3 py-1 text-sm rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 flex items-center gap-1">
                    <i class="fa-solid fa-plus"></i> New Folder
                </button>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Document items -->
                <div class="flex flex-col items-center p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="bg-blue-100 dark:bg-blue-900/30 rounded-xl p-4 mb-2">
                    <i class="fa-solid fa-file-word text-blue-500 text-3xl"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-800 dark:text-gray-200 text-center">Project_Report.docx</span>
                    <span class="text-xs text-gray-500">Modified: 2 days ago</span>
                </div>
                
                <div class="flex flex-col items-center p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="bg-green-100 dark:bg-green-900/30 rounded-xl p-4 mb-2">
                    <i class="fa-solid fa-file-excel text-green-500 text-3xl"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-800 dark:text-gray-200 text-center">Budget_2024.xlsx</span>
                    <span class="text-xs text-gray-500">Modified: 1 week ago</span>
                </div>
                
                <div class="flex flex-col items-center p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="bg-red-100 dark:bg-red-900/30 rounded-xl p-4 mb-2">
                    <i class="fa-solid fa-file-pdf text-red-500 text-3xl"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-800 dark:text-gray-200 text-center">Contract.pdf</span>
                    <span class="text-xs text-gray-500">Modified: 3 weeks ago</span>
                </div>
                
                <div class="flex flex-col items-center p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-950 cursor-pointer">
                    <div class="bg-yellow-100 dark:bg-yellow-900/30 rounded-xl p-4 mb-2">
                    <i class="fa-solid fa-file-powerpoint text-yellow-500 text-3xl"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-800 dark:text-gray-200 text-center">Presentation.pptx</span>
                    <span class="text-xs text-gray-500">Modified: 1 month ago</span>
                </div>
                </div>
            </div>
            </div>
        </div>
        </template>
    </body>

</html>